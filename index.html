<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Pushwoosh Web SDK 3.0 Demo</title>

  <script src="https://cdn.pushwoosh.com/webpush/v3/pushwoosh-web-notifications.js" defer></script>

  <script>
    window.Pushwoosh = window.Pushwoosh || [];

    // Инициализация
    Pushwoosh.push(['init', {
      applicationCode: 'BF7A8-37DB4',
      serviceWorkerUrl: 'pushwoosh-service-worker.js',
      autoSubscribe: true,
      logLevel: 'debug',
      defaultNotificationTitle: 'Push Demo',
      defaultNotificationUrl: 'https://sappysue.github.io/'
    }]);

    // Действия после загрузки SDK
    Pushwoosh.push(['onLoad', function(api) {
      console.log('✅ SDK загружен');

      try {
        const hwid = api.getHWID?.();
        const token = api.getPushToken?.();

        console.log('HWID:', hwid);
        console.log('Push Token:', token);
      } catch (err) {
        console.error('❌ Ошибка при получении HWID или Token:', err);
      }
    }]);
  </script>
</head>
<body>
  <h1>Pushwoosh SDK 3.0: Проверка 1</h1>
</body>
</html>
